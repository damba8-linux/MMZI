<html> 
  <head> 
  <meta charset="utf-8">  
    <title>rose 521</title>       
    <script type='text/javascript' src='../x3dom/x3dom.js'> </script> 
    <link rel='stylesheet' type='text/css' href='../x3dom/x3dom.css'>
    <script src="../lib/jquery-3.3.1.min.js"></script>
    <script src="../lib/bootstrap.min.js"></script>
    <script src="../lib/dat.gui.min.js"></script>
    <link rel="stylesheet" href="../lib/bootstrap.min.css">
    <link rel="stylesheet" href="../lib/fontawesome/css/all.css">
    <style>
    body {
      margin: 0; 
      overflow: hidden;
    }
    button:focus {outline:0 !important;}
    .btn.btn-custom-sm {
      border-radius: 0;
    }
    .dg.a { margin-right:0px !important; }
    /*x3d{
      border:2px solid darkorange;
    }*/  
    </style>
  </head> 
          
  <body>
  <div style="position: absolute; left:0px; top: 0px; z-index:10;">
  <a type="button" class="btn btn-secondary btn-sm btn-custom-sm shadow-none" onclick="toggler('info');"><span class="fa fa-info-circle fa-2x" style="color:white;"></span></a>
  </div>

  <div id="info" class="card border-dark" style="position: absolute; left:5px; top: 45px; width:320px; z-index:11;">
    <div id="infoHead" class="card-header">
    Dijelovi ruže
    </div>
    <div id="infoBody" class="card-body">
    <p style="margin-bottom:0px;"><span class="badge badge-primary mr-auto"><i>n = 5</i></span>&nbsp;<span class="badge badge-primary mr-auto"><i>d = 2</i></span>&nbsp;<span class="badge badge-primary mr-auto"><i>p = 1</i></span><img src='data/rose_nd_paran.png' style="width:100%;"></p>
    </div>
  </div>

   <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="true" data-backdrop="static">
     <div class="modal-dialog" role="document">
       <div class="modal-content">
         <div class="modal-header">
           <h5 class="modal-title" id="exampleModalLabel">Camera navigation</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true">&times;</span>
           </button>
         </div>
         <div class="modal-body">
          <h6><b>Examine Mode (activate with key 'e'):</b></h6>
           <ul>
            <li>Left Button / Left Button + Shift &nbsp;&#8680;&nbsp; Rotate</li>
            <li>Mid Button / Left Button + Ctl &nbsp;&#8680;&nbsp; Pan</li>
            <li>Right Button / Wheel / Left Button + Alt &nbsp;&#8680;&nbsp; Zoom</li>
           </ul>
          <h6><b>Walk Mode (activate with key 'w'):</b></h6>
           <ul>
            <li>Left Button &nbsp;&#8680;&nbsp; Move forward</li>
            <li>Right Button &nbsp;&#8680;&nbsp; Move backward</li>
           </ul>
          <h6><b>Fly Mode (activate with key 'f'):</b></h6>
           <ul>
            <li>Left Button &nbsp;&#8680;&nbsp; Move forward</li>
            <li>Right Button &nbsp;&#8680;&nbsp; Move backward</li>
           </ul>
          <h6><b>Look at (activate with key 'l'):</b></h6>
           <ul>
            <li>Left Button &nbsp;&#8680;&nbsp; Move closer</li>
            <li>Right Button &nbsp;&#8680;&nbsp; Move back</li>
           </ul>
          <h6><b>Non-interactive camera movement:</b></h6>
           <ul>
            <li>r &nbsp;&#8680;&nbsp; Reset view</li>
            <li>a &nbsp;&#8680;&nbsp; Show all</li>
            <li>u &nbsp;&#8680;&nbsp; Upright</li>
            <li>m &nbsp;&#8680;&nbsp; Dotted view of the surface</li>
           </ul>
         </div>
         <div class="modal-footer">
           <a class="btn btn-link mr-auto" href="https://www.x3dom.org/documentation/interaction/" target="_blank" role="button">x3dom</a>
           <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
         </div>
       </div>
     </div>
   </div>

   <div class="modal fade" id="plohaModal" tabindex="-1" role="dialog" aria-labelledby="plohaModalLabel" aria-hidden="true" data-backdrop="static">
     <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
       <div class="modal-content">
         <div class="modal-header">
           <h5 class="modal-title" id="example2ModalLabel">Parametarske jednadžbe</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
             <span aria-hidden="true">&times;</span>
           </button>
         </div>
         <div class="modal-body">
          <p style="text-align:center;"><img src="data/nd_paran.png"></p>
          <hr>
          <ul>
           <li style="margin-bottom:7px;"><span class="badge badge-dark">Brzi prikaz dijela ruže</span> - pet opcija za žičani ili površinski prikaz polovice ruže ili cijele ruže.</li>
           <li style="margin-bottom:5px;"><span class="badge badge-dark">1. dio ruže</span>&nbsp;<span class="badge badge-dark">2. dio ruže</span>&nbsp;<span class="badge badge-dark">3. dio ruže</span>&nbsp;<span class="badge badge-dark">4. dio ruže</span>&nbsp;<span class="badge badge-dark">5. dio ruže</span>&nbsp;<span class="badge badge-dark">6. dio ruže</span>&nbsp;<span class="badge badge-dark">7. dio ruže</span>&nbsp;<span class="badge badge-dark">8. dio ruže</span>&nbsp; - omogućuju pojedinačnu kontrolu prikaza pojedinog dijela ruže. Pojedini dio ruže možete sakriti ili promijeniti mu način prikaza (žičani ili površinski prikaz).</li>
           <li>Na slici u lijevom gornjem kutu prikazano je kako su pojedini dijelovi plohe povezani s parametrizacijom. Boja pojedinog pravokutnika odgovara dominantnoj boji pojedinog dijela plohe. Sliku možete po želji sakriti ili prikazati pritiskom na tipku <span class="badge badge-secondary"><i class="fa fa-info-circle" aria-hidden="true"></i></span>.</li> 
          </ul>
         </div>
         <div class="modal-footer">
           <span class="badge badge-primary mr-auto" style="font-size: 120%;"><i>n = 5, d = 2, p = 1</i></span>
           <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
         </div>
       </div>
     </div>
   </div>

   <x3d width='100%' height='100%', margin-left='0px' disableDoubleClick="true"> 
    <scene> 
      <inline url="data/rose521.x3d" nameSpaceName="rose521" mapDEFToID="true" onclick=''/>
    </scene> 
  </x3d>


   <script>
    function toggler(divId) {
                $("#" + divId).slideToggle(500);
    }

    let gui = new dat.GUI({resizable: false, width: 180});
    var controls = new function() {
      this.wireframe1 = false;
      this.wireframe2 = false;
      this.wireframe3 = false;
      this.wireframe4 = false;
      this.wireframe5 = false;
      this.wireframe6 = false;
      this.wireframe7 = false;
      this.wireframe8 = false;
      this.dio1 = true;
      this.dio2 = true;
      this.dio3 = true;
      this.dio4 = true;
      this.dio5 = true;
      this.dio6 = true;
      this.dio7 = true;
      this.dio8 = true;
      this.polaSolid = function() {
        document.getElementById('rose521__mat1_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat2_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat3_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat4_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat5_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat6_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat7_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat8_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat9_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat10_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat11_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat12_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat13_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat14_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat15_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat16_grid').setAttribute('transparency', '0');
        this.dio1 = false;
        this.dio2 = false;
        this.dio3 = false;
        this.dio4 = false;
        this.dio5 = true;
        this.dio6 = true;
        this.dio7 = true;
        this.dio8 = true;
        this.wireframe1 = false;
        this.wireframe2 = false;
        this.wireframe3 = false;
        this.wireframe4 = false;
        this.wireframe5 = false;
        this.wireframe6 = false;
        this.wireframe7 = false;
        this.wireframe8 = false;
      }
      this.polaWire = function() {
        document.getElementById('rose521__mat1_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat2_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat3_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat4_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat5_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat6_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat7_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat8_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat9_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat10_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat11_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat12_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat13_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat14_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat15_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat16_grid').setAttribute('transparency', '0');
        this.dio1 = false;
        this.dio2 = false;
        this.dio3 = false;
        this.dio4 = false;
        this.dio5 = true;
        this.dio6 = true;
        this.dio7 = true;
        this.dio8 = true;
        this.wireframe1 = false;
        this.wireframe2 = false;
        this.wireframe3 = false;
        this.wireframe4 = false;
        this.wireframe5 = true;
        this.wireframe6 = true;
        this.wireframe7 = true;
        this.wireframe8 = true;
      }
      this.ruzaSolid = function() {
        document.getElementById('rose521__mat1_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat2_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat3_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat4_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat5_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat6_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat7_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat8_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat9_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat10_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat11_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat12_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat13_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat14_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat15_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat16_grid').setAttribute('transparency', '0');
        this.dio1 = true;
        this.dio2 = true;
        this.dio3 = true;
        this.dio4 = true;
        this.dio5 = true;
        this.dio6 = true;
        this.dio7 = true;
        this.dio8 = true;
        this.wireframe1 = false;
        this.wireframe2 = false;
        this.wireframe3 = false;
        this.wireframe4 = false;
        this.wireframe5 = false;
        this.wireframe6 = false;
        this.wireframe7 = false;
        this.wireframe8 = false;
      }
      this.ruzaWire = function() {
        document.getElementById('rose521__mat1_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat2_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat3_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat4_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat5_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat6_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat7_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat8_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat9_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat10_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat11_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat12_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat13_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat14_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat15_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat16_grid').setAttribute('transparency', '0');
        this.dio1 = true;
        this.dio2 = true;
        this.dio3 = true;
        this.dio4 = true;
        this.dio5 = true;
        this.dio6 = true;
        this.dio7 = true;
        this.dio8 = true;
        this.wireframe1 = true;
        this.wireframe2 = true;
        this.wireframe3 = true;
        this.wireframe4 = true;
        this.wireframe5 = true;
        this.wireframe6 = true;
        this.wireframe7 = true;
        this.wireframe8 = true;
      }
      this.SolidWire = function() {
        document.getElementById('rose521__mat1_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat2_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat3_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat4_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat5_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat6_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat7_grid').setAttribute('transparency', '1');
        document.getElementById('rose521__mat8_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat9_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat10_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat11_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat12_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat13_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat14_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat15_grid').setAttribute('transparency', '0');
        document.getElementById('rose521__mat16_grid').setAttribute('transparency', '0');
        this.dio1 = true;
        this.dio2 = true;
        this.dio3 = true;
        this.dio4 = true;
        this.dio5 = true;
        this.dio6 = true;
        this.dio7 = true;
        this.dio8 = true;
        this.wireframe1 = true;
        this.wireframe2 = true;
        this.wireframe3 = true;
        this.wireframe4 = true;
        this.wireframe5 = false;
        this.wireframe6 = false;
        this.wireframe7 = false;
        this.wireframe8 = false;
      }
      this.help = function() {
        $("#infoModal").modal();
      };
      this.ploha = function() {
        $("#plohaModal").modal();
      };
    }

    let brziPrikaz = gui.addFolder('Brzi prikaz dijela ruže');
    brziPrikaz.add(controls,'polaSolid');
    brziPrikaz.add(controls,'polaWire');
    brziPrikaz.add(controls,'ruzaSolid');
    brziPrikaz.add(controls,'ruzaWire');
    brziPrikaz.add(controls,'SolidWire');
    brziPrikaz.open();

    let folderBoy1 = gui.addFolder('1. dio ruže');
    folderBoy1.add(controls, 'dio1').listen().onChange( function() {
      let ID1 = document.getElementById('rose521__mat1_grid');
      let ID2 = document.getElementById('rose521__mat2_grid');
      if (controls.dio1) {
        if (controls.wireframe1) ID1.setAttribute('transparency', '1');
        else ID1.setAttribute('transparency', '0');
        ID2.setAttribute('transparency','0');
      } else {
        ID1.setAttribute('transparency', '1');
        ID2.setAttribute('transparency', '1');
      }
    });
    folderBoy1.add(controls, 'wireframe1').listen().onChange( function() {
      let ID1 = document.getElementById('rose521__mat1_grid');
      if (controls.wireframe1) {
        ID1.setAttribute('transparency','1');
      } else {
        if (controls.dio1) ID1.setAttribute('transparency','0');
      }
    });

    let folderBoy2 = gui.addFolder('2. dio ruže');
    folderBoy2.add(controls, 'dio2').listen().onChange( function() {
      let ID3 = document.getElementById('rose521__mat3_grid');
      let ID4 = document.getElementById('rose521__mat4_grid');
      if (controls.dio2) {
        if (controls.wireframe2) ID3.setAttribute('transparency', '1');
        else ID3.setAttribute('transparency', '0');
        ID4.setAttribute('transparency','0');
      } else {
        ID3.setAttribute('transparency', '1');
        ID4.setAttribute('transparency', '1');
      }
    });
    folderBoy2.add(controls, 'wireframe2').listen().onChange( function() {
      let ID3 = document.getElementById('rose521__mat3_grid');
      if (controls.wireframe2) {
        ID3.setAttribute('transparency','1');
      } else {
        if (controls.dio2) ID3.setAttribute('transparency','0');
      }
    });

    let folderBoy3 = gui.addFolder('3. dio ruže');
    folderBoy3.add(controls, 'dio3').listen().onChange( function() {
      let ID5 = document.getElementById('rose521__mat5_grid');
      let ID6 = document.getElementById('rose521__mat6_grid');
      if (controls.dio3) {
        if (controls.wireframe3) ID5.setAttribute('transparency', '1');
        else ID5.setAttribute('transparency', '0');
        ID6.setAttribute('transparency','0');
      } else {
        ID5.setAttribute('transparency', '1');
        ID6.setAttribute('transparency', '1');
      }
    });
    folderBoy3.add(controls, 'wireframe3').listen().onChange( function() {
      let ID5 = document.getElementById('rose521__mat5_grid');
      if (controls.wireframe3) {
        ID5.setAttribute('transparency','1');
      } else {
        if (controls.dio3) ID5.setAttribute('transparency','0');
      }
    });

    let folderBoy4 = gui.addFolder('4. dio ruže');
    folderBoy4.add(controls, 'dio4').listen().onChange( function() {
      let ID7 = document.getElementById('rose521__mat7_grid');
      let ID8 = document.getElementById('rose521__mat8_grid');
      if (controls.dio4) {
        if (controls.wireframe4) ID7.setAttribute('transparency', '1');
        else ID7.setAttribute('transparency', '0');
        ID8.setAttribute('transparency','0');
      } else {
        ID7.setAttribute('transparency', '1');
        ID8.setAttribute('transparency', '1');
      }
    });
    folderBoy4.add(controls, 'wireframe4').listen().onChange( function() {
      let ID7 = document.getElementById('rose521__mat7_grid');
      if (controls.wireframe4) {
        ID7.setAttribute('transparency','1');
      } else {
        if (controls.dio4) ID7.setAttribute('transparency','0');
      }
    });

    let folderBoy5 = gui.addFolder('5. dio ruže');
    folderBoy5.add(controls, 'dio5').listen().onChange( function() {
      let ID9 = document.getElementById('rose521__mat9_grid');
      let ID10 = document.getElementById('rose521__mat10_grid');
      if (controls.dio5) {
        if (controls.wireframe5) ID9.setAttribute('transparency', '1');
        else ID9.setAttribute('transparency', '0');
        ID10.setAttribute('transparency','0');
      } else {
        ID9.setAttribute('transparency', '1');
        ID10.setAttribute('transparency', '1');
      }
    });
    folderBoy5.add(controls, 'wireframe5').listen().onChange( function() {
      let ID9 = document.getElementById('rose521__mat9_grid');
      if (controls.wireframe5) {
        ID9.setAttribute('transparency','1');
      } else {
        if (controls.dio5) ID9.setAttribute('transparency','0');
      }
    });

    let folderBoy6 = gui.addFolder('6. dio ruže');
    folderBoy6.add(controls, 'dio6').listen().onChange( function() {
      let ID11 = document.getElementById('rose521__mat11_grid');
      let ID12 = document.getElementById('rose521__mat12_grid');
      if (controls.dio6) {
        if (controls.wireframe6) ID11.setAttribute('transparency', '1');
        else ID11.setAttribute('transparency', '0');
        ID12.setAttribute('transparency','0');
      } else {
        ID11.setAttribute('transparency', '1');
        ID12.setAttribute('transparency', '1');
      }
    });
    folderBoy6.add(controls, 'wireframe6').listen().onChange( function() {
      let ID11 = document.getElementById('rose521__mat11_grid');
      if (controls.wireframe6) {
        ID11.setAttribute('transparency','1');
      } else {
        if (controls.dio6) ID11.setAttribute('transparency','0');
      }
    });

    let folderBoy7 = gui.addFolder('7. dio ruže');
    folderBoy7.add(controls, 'dio7').listen().onChange( function() {
      let ID13 = document.getElementById('rose521__mat13_grid');
      let ID14 = document.getElementById('rose521__mat14_grid');
      if (controls.dio7) {
        if (controls.wireframe7) ID13.setAttribute('transparency', '1');
        else ID13.setAttribute('transparency', '0');
        ID14.setAttribute('transparency','0');
      } else {
        ID13.setAttribute('transparency', '1');
        ID14.setAttribute('transparency', '1');
      }
    });
    folderBoy7.add(controls, 'wireframe7').listen().onChange( function() {
      let ID13 = document.getElementById('rose521__mat13_grid');
      if (controls.wireframe7) {
        ID13.setAttribute('transparency','1');
      } else {
        if (controls.dio7) ID13.setAttribute('transparency','0');
      }
    });

    let folderBoy8 = gui.addFolder('8. dio ruže');
    folderBoy8.add(controls, 'dio8').listen().onChange( function() {
      let ID15 = document.getElementById('rose521__mat15_grid');
      let ID16 = document.getElementById('rose521__mat16_grid');
      if (controls.dio8) {
        if (controls.wireframe8) ID15.setAttribute('transparency', '1');
        else ID15.setAttribute('transparency', '0');
        ID16.setAttribute('transparency','0');
      } else {
        ID15.setAttribute('transparency', '1');
        ID16.setAttribute('transparency', '1');
      }
    });
    folderBoy8.add(controls, 'wireframe8').listen().onChange( function() {
      let ID15 = document.getElementById('rose521__mat15_grid');
      if (controls.wireframe8) {
        ID15.setAttribute('transparency','1');
      } else {
        if (controls.dio8) ID15.setAttribute('transparency','0');
      }
    });

    gui.add(controls,'help');
    gui.add(controls,'ploha');
   </script>
  </body>
  </html>
